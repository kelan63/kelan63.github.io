<!DOCTYPE html>
<html>
<head>
    <SCRIPT LANGUAGE="Javascript" SRC="point_worker.js"></SCRIPT>
    <script>

        var c;
        var ctx;    
        var w;

        function init() {
            c = document.getElementById("myCanvas");
            ctx = c.getContext("2d");
            if (typeof(Worker) !== "undefined") {
                if (typeof(w) == "undefined") {
                    w = new Worker("point_worker.js");
                }
                w.onmessage = function(event) {
                    console.log("pomme2");
                    dessin(event.data[0],event.data[1]);
                };
            }
        }

        /*function coordonnees() {
            var x =  Math.floor(Math.random()*1100);
            var y =  Math.floor(Math.random()*1100);
            //console.log("x= "+x);
            //console.log("y= "+y);
            postMessage([x,y]);
            setTimeout("coordonnees()",1000);
        }*/

        function dessin(x,y){
                    ctx.beginPath();
                    ctx.arc(x,y,5,0,2*Math.PI,false);
                    ctx.fillStyle = "black";
                    ctx.stroke();
        }


    </script>
</head>
<body onload='init()'>
        
        <canvas id="myCanvas" width="1500" height="700" style="border:1px solid #000000;"></canvas>   
</body>
</html> 